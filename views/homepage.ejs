<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <link rel="shortcut icon" href="/images/key.png" type="image/x-icon">    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noty/3.1.4/noty.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <title>Auth-System</title>
</head>
<body>
    <h1 style="text-align: center; ">
        Authentication System       
       
      </h1>
      
  
    <% if(locals.user) {%>
    <h1 >Logged In as <%=user.name%></h1>
     <h3><a class="btn btn-danger" href="/logout">Logout</a></h3>
    <h3>
        <a class="btn btn-success" id="resetLink" onclick="resetPassword()"  href="/">Reset Password</a>
        <%if(user.google===true){%>
            <h3>Better You Reset Your Password</h3>
            <%}%>
    </h3> 
    <div id="resetForm" class="form-group hidden">

          
           <form action="/resetPassword" method="post">
            <div class="form-group">
                <%if(user.google===true){%>
                    <h3>Enter Your New Password</h3>
                    <input type="password" value="<%=user.password%>" placeholder="Current Password" class="form-control" hidden name="p_password" id="">
                <%} else{%>

                <input type="password"  placeholder="Current Password" class="form-control" name="p_password" id="">
                <%}%>
            </div>
             <div class="form-group">
                <input type="password" placeholder="New Password" class="form-control" name="n_password" id="pass">
                <span class="hidden"  id="infoPassIcon"><svg fill="currentColor" width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-info-circle-fill"  xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
                  </svg></span>
                  <span id="infoPass">
                      <ul>
                       <li>At least 8 charactersâ€”the more characters, the better.</li>
                       <li>A mixture of both uppercase and lowercase letters.</li>
                       <li>A mixture of letters and numbers.</li>
                       <li>Inclusion of at least one special character, e.g., ! @ # $ </li> 
                        
                       
                         
                      </ul>
    
                  </span>
             </div>
             <div class="form-group">
                <input  type="password" placeholder="Re-Enter New Password" class="form-control email pass" name="cn_password" id="">     
                    
             </div>
             <div class="form-group">
                <button class="btn btn-success" type="submit"> <b> Reset </b> </button>

             </div>
             
           

           </form>
    </div>

    <% } else {%>
        <div class="form-group">
            <a href="/login"><button class="btn btn-success" type="submit"> <b>&nbsp; Login&nbsp;</b> </button></a>
        </div>
         <div class="form-group">
            <a href="/signup"> <button class="btn btn-success" type="submit"> <b>SignUp</b></button></a>
         </div>
       
      
        <%}%>
              <!-- <%if(a.success && a.success.length>0) {%>
                 <h1><%=a%></h1>    

                <%}%> -->
       
            <script >

                 <% if(flash.success && flash.success.length>0) { %>
                new Noty({
                type:"success",
                text: "<%=flash.success%>",
                timeout:1000,
                theme:"sunset"
                
            }).show();
            <%}%>
                </script>

<script >
    <% if(flash.error && flash.error.length>0) { %>
   new Noty({
   type:"error",
   text: "<%=flash.error%>",
   timeout:1000,
   theme:"sunset"
   
}).show();
<%}%>
   </script>

            
           
       
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>  
        <script src="scripts/main.js"></script>
        
</body>
</html>